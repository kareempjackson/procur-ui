"use client";

import React from "react";

interface ProcurLoaderProps {
  size?: "sm" | "md" | "lg";
  text?: string;
  className?: string;
  fullscreen?: boolean;
}

export default function ProcurLoader({
  size = "md",
  text,
  className = "",
  fullscreen = true,
}: ProcurLoaderProps) {
  const sizeClasses = {
    sm: "w-20 h-20",
    md: "w-32 h-32",
    lg: "w-40 h-40",
  };

  const textSizeClasses = {
    sm: "text-base",
    md: "text-lg",
    lg: "text-xl",
  };

  const content = (
    <div className="flex flex-col items-center justify-center gap-6">
      <div className={`relative ${sizeClasses[size]}`}>
        <svg
          viewBox="0 0 368 96"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="w-full h-full"
        >
          <defs>
            <clipPath id="fillClip">
              <rect x="0" y="0" width="368" height="96" className="fill-rect" />
            </clipPath>
          </defs>

          {/* Background logo (light gray) */}
          <g opacity="0.2">
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M15.2533 31.8314C15.2533 14.3804 29.6606 0.385742 46.943 0.385742C63.9585 0.385742 78.1447 14.1641 78.1447 31.3482C78.1447 48.4482 64.2823 62.3106 47.1823 62.3106H28.5082V95.9999H15.2533V62.3106H0L3.94175 49.0558H15.2533V31.8314ZM28.5082 49.0558H47.1823C56.9619 49.0558 64.8898 41.1278 64.8898 31.3482C64.8898 21.6525 56.8072 13.6406 46.943 13.6406C36.8119 13.6406 28.5082 21.8689 28.5082 31.8314V49.0558Z"
              fill="#000809"
            />
            <path
              d="M330.109 67.6049V2.18454H341.397V29.4936H340.912C340.912 20.1074 342.975 13.1082 347.102 8.49597C351.228 3.80286 357.338 1.4563 365.429 1.4563H367.735V13.9578H363.366C357.216 13.9578 352.483 15.6166 349.165 18.9341C345.928 22.1707 344.31 26.8234 344.31 32.8921V67.6049H330.109Z"
              fill="#000809"
            />
            <path
              d="M285.352 69.5467C277.665 69.5467 271.758 67.0788 267.631 62.1429C263.504 57.1261 261.441 49.7628 261.441 40.0529V2.18433H275.642V41.9949C275.642 46.5262 276.896 50.1269 279.404 52.7971C281.913 55.3864 285.311 56.6811 289.6 56.6811C293.969 56.6811 297.529 55.3055 300.281 52.5544C303.113 49.7223 304.529 45.8788 304.529 41.0239V2.18433H318.729V67.6047H307.442V39.6888H308.898C308.898 46.243 308.008 51.7452 306.228 56.1956C304.529 60.5651 301.98 63.8826 298.581 66.1482C295.264 68.4139 291.056 69.5467 285.958 69.5467H285.352Z"
              fill="#000809"
            />
            <path
              d="M227.163 69.7898C221.579 69.7898 216.684 68.8593 212.476 66.9983C208.35 65.0563 204.911 62.467 202.16 59.2304C199.489 55.9128 197.466 52.2716 196.091 48.3067C194.796 44.2609 194.149 40.1747 194.149 36.048V33.8632C194.149 29.5747 194.837 25.448 196.212 21.4831C197.588 17.4374 199.651 13.7961 202.402 10.5595C205.153 7.32288 208.552 4.77403 212.598 2.91297C216.724 0.970991 221.539 0 227.041 0C232.624 0 237.601 1.05191 241.97 3.15572C246.421 5.25953 249.981 8.25341 252.651 12.1374C255.321 15.9404 256.818 20.3908 257.142 25.4885H243.427C242.941 21.8473 241.282 18.7725 238.45 16.2641C235.699 13.7557 231.896 12.5015 227.041 12.5015C222.834 12.5015 219.354 13.4725 216.603 15.4145C213.852 17.3564 211.789 20.0267 210.413 23.4251C209.037 26.7427 208.35 30.5862 208.35 34.9556C208.35 39.1632 208.997 42.9663 210.292 46.3647C211.667 49.7632 213.731 52.4334 216.482 54.3754C219.314 56.3174 222.874 57.2884 227.163 57.2884C230.48 57.2884 233.312 56.722 235.659 55.5891C238.086 54.3754 240.028 52.7975 241.485 50.8556C242.941 48.8327 243.791 46.5266 244.034 43.9373H257.87C257.627 49.1968 256.13 53.7685 253.379 57.6525C250.628 61.4555 246.987 64.4494 242.456 66.6341C237.924 68.738 232.827 69.7898 227.163 69.7898Z"
              fill="#000809"
            />
            <path
              d="M156.921 69.7898C151.176 69.7898 146.118 68.8593 141.749 66.9983C137.379 65.0563 133.698 62.5074 130.704 59.3517C127.71 56.196 125.444 52.6357 123.907 48.6708C122.37 44.6251 121.601 40.4579 121.601 36.1694V33.7419C121.601 29.4533 122.37 25.2862 123.907 21.2404C125.525 17.1946 127.831 13.5939 130.825 10.4381C133.9 7.20151 137.622 4.65266 141.992 2.7916C146.361 0.930534 151.337 0 156.921 0C162.504 0 167.44 0.930534 171.728 2.7916C176.098 4.65266 179.82 7.20151 182.894 10.4381C185.969 13.5939 188.275 17.1946 189.813 21.2404C191.431 25.2862 192.24 29.4533 192.24 33.7419V36.1694C192.24 40.4579 191.472 44.6251 189.934 48.6708C188.397 52.6357 186.131 56.196 183.137 59.3517C180.143 62.5074 176.462 65.0563 172.092 66.9983C167.723 68.8593 162.666 69.7898 156.921 69.7898ZM156.921 57.4097C161.371 57.4097 165.174 56.4387 168.33 54.4968C171.485 52.4739 173.872 49.7632 175.491 46.3647C177.19 42.9663 178.04 39.1632 178.04 34.9556C178.04 30.6671 177.19 26.8236 175.491 23.4251C173.791 20.0267 171.364 17.3564 168.208 15.4145C165.053 13.3916 161.29 12.3801 156.921 12.3801C152.551 12.3801 148.788 13.3916 145.633 15.4145C142.477 17.3564 140.05 20.0267 138.35 23.4251C136.651 26.8236 135.802 30.6671 135.802 34.9556C135.802 39.1632 136.611 42.9663 138.229 46.3647C139.928 49.7632 142.356 52.4739 145.511 54.4968C148.667 56.4387 152.47 57.4097 156.921 57.4097Z"
              fill="#000809"
            />
            <path
              d="M86.2598 67.6049V2.18454H97.5476V29.4936H97.0621C97.0621 20.1074 99.1254 13.1082 103.252 8.49597C107.379 3.80286 113.488 1.4563 121.58 1.4563H123.886V13.9578H119.516C113.367 13.9578 108.633 15.6166 105.316 18.9341C102.079 22.1707 100.461 26.8234 100.461 32.8921V67.6049H86.2598Z"
              fill="#000809"
            />
          </g>

          {/* Animated filled logo */}
          <g clipPath="url(#fillClip)">
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M15.2533 31.8314C15.2533 14.3804 29.6606 0.385742 46.943 0.385742C63.9585 0.385742 78.1447 14.1641 78.1447 31.3482C78.1447 48.4482 64.2823 62.3106 47.1823 62.3106H28.5082V95.9999H15.2533V62.3106H0L3.94175 49.0558H15.2533V31.8314ZM28.5082 49.0558H47.1823C56.9619 49.0558 64.8898 41.1278 64.8898 31.3482C64.8898 21.6525 56.8072 13.6406 46.943 13.6406C36.8119 13.6406 28.5082 21.8689 28.5082 31.8314V49.0558Z"
              fill="#000809"
            />
            <path
              d="M330.109 67.6049V2.18454H341.397V29.4936H340.912C340.912 20.1074 342.975 13.1082 347.102 8.49597C351.228 3.80286 357.338 1.4563 365.429 1.4563H367.735V13.9578H363.366C357.216 13.9578 352.483 15.6166 349.165 18.9341C345.928 22.1707 344.31 26.8234 344.31 32.8921V67.6049H330.109Z"
              fill="#000809"
            />
            <path
              d="M285.352 69.5467C277.665 69.5467 271.758 67.0788 267.631 62.1429C263.504 57.1261 261.441 49.7628 261.441 40.0529V2.18433H275.642V41.9949C275.642 46.5262 276.896 50.1269 279.404 52.7971C281.913 55.3864 285.311 56.6811 289.6 56.6811C293.969 56.6811 297.529 55.3055 300.281 52.5544C303.113 49.7223 304.529 45.8788 304.529 41.0239V2.18433H318.729V67.6047H307.442V39.6888H308.898C308.898 46.243 308.008 51.7452 306.228 56.1956C304.529 60.5651 301.98 63.8826 298.581 66.1482C295.264 68.4139 291.056 69.5467 285.958 69.5467H285.352Z"
              fill="#000809"
            />
            <path
              d="M227.163 69.7898C221.579 69.7898 216.684 68.8593 212.476 66.9983C208.35 65.0563 204.911 62.467 202.16 59.2304C199.489 55.9128 197.466 52.2716 196.091 48.3067C194.796 44.2609 194.149 40.1747 194.149 36.048V33.8632C194.149 29.5747 194.837 25.448 196.212 21.4831C197.588 17.4374 199.651 13.7961 202.402 10.5595C205.153 7.32288 208.552 4.77403 212.598 2.91297C216.724 0.970991 221.539 0 227.041 0C232.624 0 237.601 1.05191 241.97 3.15572C246.421 5.25953 249.981 8.25341 252.651 12.1374C255.321 15.9404 256.818 20.3908 257.142 25.4885H243.427C242.941 21.8473 241.282 18.7725 238.45 16.2641C235.699 13.7557 231.896 12.5015 227.041 12.5015C222.834 12.5015 219.354 13.4725 216.603 15.4145C213.852 17.3564 211.789 20.0267 210.413 23.4251C209.037 26.7427 208.35 30.5862 208.35 34.9556C208.35 39.1632 208.997 42.9663 210.292 46.3647C211.667 49.7632 213.731 52.4334 216.482 54.3754C219.314 56.3174 222.874 57.2884 227.163 57.2884C230.48 57.2884 233.312 56.722 235.659 55.5891C238.086 54.3754 240.028 52.7975 241.485 50.8556C242.941 48.8327 243.791 46.5266 244.034 43.9373H257.87C257.627 49.1968 256.13 53.7685 253.379 57.6525C250.628 61.4555 246.987 64.4494 242.456 66.6341C237.924 68.738 232.827 69.7898 227.163 69.7898Z"
              fill="#000809"
            />
            <path
              d="M156.921 69.7898C151.176 69.7898 146.118 68.8593 141.749 66.9983C137.379 65.0563 133.698 62.5074 130.704 59.3517C127.71 56.196 125.444 52.6357 123.907 48.6708C122.37 44.6251 121.601 40.4579 121.601 36.1694V33.7419C121.601 29.4533 122.37 25.2862 123.907 21.2404C125.525 17.1946 127.831 13.5939 130.825 10.4381C133.9 7.20151 137.622 4.65266 141.992 2.7916C146.361 0.930534 151.337 0 156.921 0C162.504 0 167.44 0.930534 171.728 2.7916C176.098 4.65266 179.82 7.20151 182.894 10.4381C185.969 13.5939 188.275 17.1946 189.813 21.2404C191.431 25.2862 192.24 29.4533 192.24 33.7419V36.1694C192.24 40.4579 191.472 44.6251 189.934 48.6708C188.397 52.6357 186.131 56.196 183.137 59.3517C180.143 62.5074 176.462 65.0563 172.092 66.9983C167.723 68.8593 162.666 69.7898 156.921 69.7898ZM156.921 57.4097C161.371 57.4097 165.174 56.4387 168.33 54.4968C171.485 52.4739 173.872 49.7632 175.491 46.3647C177.19 42.9663 178.04 39.1632 178.04 34.9556C178.04 30.6671 177.19 26.8236 175.491 23.4251C173.791 20.0267 171.364 17.3564 168.208 15.4145C165.053 13.3916 161.29 12.3801 156.921 12.3801C152.551 12.3801 148.788 13.3916 145.633 15.4145C142.477 17.3564 140.05 20.0267 138.35 23.4251C136.651 26.8236 135.802 30.6671 135.802 34.9556C135.802 39.1632 136.611 42.9663 138.229 46.3647C139.928 49.7632 142.356 52.4739 145.511 54.4968C148.667 56.4387 152.47 57.4097 156.921 57.4097Z"
              fill="#000809"
            />
            <path
              d="M86.2598 67.6049V2.18454H97.5476V29.4936H97.0621C97.0621 20.1074 99.1254 13.1082 103.252 8.49597C107.379 3.80286 113.488 1.4563 121.58 1.4563H123.886V13.9578H119.516C113.367 13.9578 108.633 15.6166 105.316 18.9341C102.079 22.1707 100.461 26.8234 100.461 32.8921V67.6049H86.2598Z"
              fill="#000809"
            />
          </g>
        </svg>
      </div>

      {text && (
        <p
          className={`text-[var(--secondary-black)] ${textSizeClasses[size]} font-semibold tracking-wide`}
        >
          {text}
        </p>
      )}
    </div>
  );

  if (fullscreen) {
    return (
      <>
        <div
          className={`fixed inset-0 z-[9999] flex items-center justify-center bg-[var(--primary-background)] ${className}`}
        >
          {content}
        </div>
        <style jsx>{`
          @keyframes fillUp {
            0% {
              height: 0;
            }
            50% {
              height: 100%;
            }
            100% {
              height: 100%;
            }
          }

          @keyframes fillDown {
            0% {
              height: 100%;
            }
            50% {
              height: 100%;
            }
            100% {
              height: 0;
            }
          }

          .fill-rect {
            animation: fillUp 2s ease-in-out infinite;
            transform-origin: bottom;
          }
        `}</style>
      </>
    );
  }

  return (
    <div className={`flex flex-col items-center justify-center ${className}`}>
      {content}
      <style jsx>{`
        @keyframes fillUp {
          0% {
            height: 0;
          }
          50% {
            height: 100%;
          }
          100% {
            height: 100%;
          }
        }

        @keyframes fillDown {
          0% {
            height: 100%;
          }
          50% {
            height: 100%;
          }
          100% {
            height: 0;
          }
        }

        .fill-rect {
          animation: fillUp 2s ease-in-out infinite;
          transform-origin: bottom;
        }
      `}</style>
    </div>
  );
}
